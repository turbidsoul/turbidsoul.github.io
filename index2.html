<!doctype html>
<html lang="cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title> - Turbidsoul's 小黑屋</title>

    <link rel="stylesheet" href="http://blog.turbidsoul.me/theme/css/main.css">
    <link rel="stylesheet" href="http://blog.turbidsoul.me/theme/css/pygment_trac.css">
    <link rel="stylesheet" href="http://blog.turbidsoul.me/theme/js/jquery-2.1.1_min.js">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div><img src="http://blog.turbidsoul.me/content/images/avatar.jpg" class="grv-img"/></div>
        <div class="title"><a href="http://blog.turbidsoul.me/">Turbidsoul's 小黑屋 </a></div>
        <div class="sub-title"></div>

<p>
    <div class="view"><a href="http://blog.turbidsoul.me/pages/guan-yu-wo.html">关于我</a></div>
  <div class="view"><a href="http://blog.turbidsoul.me/archives.html">Archives</a></div>
</p>

<!-- Social links -->
<div class="social">
<h4>Follow Me</h4>
<ul>
    <li><a href="https://plus.google.com/+TurbidsoulChen">Google+</a></li>
    <li><a href="https://github.com/turbidsoul">Github</a></li>
    <li><a href="https://twitter.com/Turbidsoul">Twitter</a></li>
    <li><a href="https://facebook.com/turbidsoul">Facebook</a></li>
    <li><a href="http://weibo.com/turbidsoul">微博</a></li>
    <li><a href="http://instagram.com/turbidsoul">Instagram</a></li>
</ul>
</div>

      </header>
      <section>
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/python-27-de-can-shu-jie-xi-mo-kuai-argparse.html">python 2.7 的参数解析模块 argparse</a></div>
<p>
<small>
<abbr class="published" title="2013-09-27">
  2013年 九月 27日 周五
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/code.html">code</a>, 
    <a href="http://blog.turbidsoul.me/tag/argparse.html">argparse</a>, 
    <a href="http://blog.turbidsoul.me/tag/python27.html">python27</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/python-27-de-can-shu-jie-xi-mo-kuai-argparse.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>今天下午没事，就优化了一下以前写的一些工作上用的小工具，当然大多数都是python写的命令行下的小工具，之前命令行参数都是自己解析，虽然不是什么复杂的事情，但是自己临时写出来的东西毕竟不如人家写出来的好，正好前短时间看到python2.7把 <strong>argparse</strong> 加入到了标准模块中，所以这次对这些工具的代码重构就是使用了 <strong>argparse</strong> 替代自己写的那个简陋名两行解析工具。</p> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/python-27-de-can-shu-jie-xi-mo-kuai-argparse.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/pythonmo-kuai-html2bbcode.html">python模块html2bbcode</a></div>
<p>
<small>
<abbr class="published" title="2013-08-30">
  2013年 八月 30日 周五
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/code.html">code</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/pythonmo-kuai-html2bbcode.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>公司最近在调整网站的模块，把网站的公告模块去掉，公告的数据移到Discuz做的论坛中，整体功能都很简单，写了一个python脚本，执行一下就能完成数据迁移。在数据迁移的过程中有个小问题，我们公告的正文是用富文本编辑器写的，代码是 <em>html</em> 代码，但是在Discuz中确是用 <em>bbcode</em> 所以就需要对公告正文进行转换，这里就要使用到python的一个模块: <strong>html2bbcode</strong></p> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/pythonmo-kuai-html2bbcode.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/python-332-mingw-gcc-471-an-zhuang-misakamo-kuai-shi-bian-yi-bao-cuo.html">python 3.3.2 mingw gcc 4.7.1 安装misaka模块时编译报错</a></div>
<p>
<small>
<abbr class="published" title="2013-08-16">
  2013年 八月 16日 周五
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/python33.html">python33</a>, 
    <a href="http://blog.turbidsoul.me/tag/mingw.html">mingw</a>, 
    <a href="http://blog.turbidsoul.me/tag/gcc.html">gcc</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/python-332-mingw-gcc-471-an-zhuang-misakamo-kuai-shi-bian-yi-bao-cuo.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>今天安装在 <strong>python3.3.2</strong> 下安装 <strong>misaka</strong>  编译的时候报出了一个编译错误 <em>gcc: error: unrecognized command line option '-mno-cygwin'</em></p> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/python-332-mingw-gcc-471-an-zhuang-misakamo-kuai-shi-bian-yi-bao-cuo.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/cheng-xu-yuan-shu-xue-ling-de-gu-shi.html">程序员数学 - 零的故事</a></div>
<p>
<small>
<abbr class="published" title="2013-08-14">
  2013年 八月 14日 周三
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/math.html">math</a>, 
    <a href="http://blog.turbidsoul.me/tag/zero.html">zero</a>, 
    <a href="http://blog.turbidsoul.me/tag/reading.html">reading</a>, 
    <a href="http://blog.turbidsoul.me/tag/notes.html">notes</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/cheng-xu-yuan-shu-xue-ling-de-gu-shi.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>之前买了几本关于数学的书，这两天看了《程序员数学》第一章 0的故事，以前只是知道0，却不知道0在数学中的作用和意义。</p>
<h4 id="_1">计数法</h4>
<p>在10进制中，每一位的数字表示的是这一位上的个数，如书中的2503：</p>
<blockquote>
<p>2 =&gt; $2 xx 1000$ =&gt; $2 xx 10^3$</p>
<p>5 =&gt; $5 xx 100$ =&gt; $5 xx 10^5$</p>
<p>0 =&gt; $0 xx 10$ =&gt; $0 xx 10^1$</p>
<p>3 =&gt; $3 xx 1$ =&gt; $3 xx 10^0$</p>
</blockquote>
<p>如上面引用中的，把每一行的结果加起来就是 <strong>2503</strong>，这里我觉得在中文中表示数字其实更准确： <em>两千五百零三</em> ，在每一位都表示了这一位的单位，在阅读上更容易理解和准确 ...</p><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type= "text/javascript">
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML-full'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML-full';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    asciimath2jax: {" +
            "      delimiters: [['$','$'], ['`','`']]"+
            "    }"+
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
</script>
 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/cheng-xu-yuan-shu-xue-ling-de-gu-shi.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/guan-yu-du-shu.html">关于读书</a></div>
<p>
<small>
<abbr class="published" title="2013-07-29">
  2013年 七月 29日 周一
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/xian-liao.html">闲聊</a>, 
    <a href="http://blog.turbidsoul.me/tag/math.html">math</a>, 
    <a href="http://blog.turbidsoul.me/tag/code.html">code</a>, 
    <a href="http://blog.turbidsoul.me/tag/programer.html">programer</a>, 
    <a href="http://blog.turbidsoul.me/tag/developer.html">developer</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/guan-yu-du-shu.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>上个月的这个时候我买了 <strong>Kindle Paperwrite</strong>，看了一些关于历史的书和人物传记，最近两天又买了几本关于数学的书和一本C语言的入门书籍。我想我需要用6-8个月的时间看完这些书，然后在从中得到升华。</p>
<blockquote>
<p>以史博古、以史通今、以史通事、以史通政、以史通智、以史知辱、以史知道</p>
<p>成为优秀的开发人员，可以没有数学技能，但成为卓越的开发人员，不能没有</p>
</blockquote>
<p>从上个月的的19号到今天我一共看了三本书，一本历史和两本任务传记：</p>
<ul>
<li><strong>《文革十年史》</strong></li>
<li><strong>《晚年周恩来》</strong></li>
<li><strong>《蒋介石传》</strong></li>
</ul>
<p>我并不想对这三本书做介绍，对于这三本书的内容是否真实，我也不想说太多，相不相信我觉得完全在自己。对于一个 <em>Code Monkey</em> (程序猿，代码猴)，我一直想把自己排除在政治之外，我也是一直都这么做的，但是我依然认为不管是做什么职业，生活在那个阶层，什么年龄段，都应该读史书，以史明鉴，只有知道了真实的历史，我们才能更加明白自己的前路在何方！</p>
<p>至于读数学的书是因为上面那句话，我希望我自己能成为一个卓越的“ <em>Code Monkey</em> ”，但是我知道我并不聪明，也不如其他人努力，所以想让自己的名字前面加上 <strong>卓越</strong> 两个字的可能性并不大 ...</p> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/guan-yu-du-shu.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ldaphe-rtxzhi-jian-de-zu-zhi-he-yong-hu-shu-ju-tong-bu.html">python实现ldap和rtx之间的组织和用户数据同步</a></div>
<p>
<small>
<abbr class="published" title="2013-07-15">
  2013年 七月 15日 周一
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/ldap.html">ldap</a>, 
    <a href="http://blog.turbidsoul.me/tag/rtx.html">rtx</a>, 
    <a href="http://blog.turbidsoul.me/tag/win32com.html">win32com</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ldaphe-rtxzhi-jian-de-zu-zhi-he-yong-hu-shu-ju-tong-bu.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>最近公司正在准备使用 <strong>AD</strong> ( <strong><a href="https://zh.wikipedia.org/wiki/Active_Directory" title="Active Directory">Activate Directory</a></strong> )服务来进行公司员工的帐号管理，这样就避免不了需要对AD的帐号和<a href="http://rtx.tencent.com/rtx/index.shtml" title="RTX">RTX</a>的帐号和组织关系进行同步，所以才有了这篇文章。</p>
<h4 id="python-ldap">Python-Ldap</h4>
<p><a href="http://www.python-ldap.org/" title="LDAP client API for Python">Python-Ldap</a>是python用来操作ldap的模块，可以对ldap进行查询，添加，修改，删除等操作，如下代码：</p>
<div class="highlight"><pre><span class="n">ldap_host</span> <span class="o">=</span> <span class="s">&quot;127.0.0.1&quot;</span>
<span class="n">ldap_port</span> <span class="o">=</span> <span class="mi">389</span>
<span class="n">ldap_who</span> <span class="o">=</span> <span class="s">&quot;turbidsoul.me</span><span class="se">\\</span><span class="s">test&quot;</span>
<span class="n">ldap_cred</span> <span class="o">=</span> <span class="s">&quot;test&quot;</span>
<span class="n">ldap_baseondn</span> <span class="o">=</span> <span class="s">&quot;OU=XXXX,DC=turbidsoul,DC=me&quot;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">ldap</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">ldap_host</span><span class="p">,</span> <span class="n">ldap_port</span><span class="p">)</span>
    <span class="n">l</span><span class="o">.</span><span class="n">simple_bind_s</span><span class="p">(</span><span class="n">ldap_who</span><span class="p">,</span> <span class="n">ldap_cred</span><span class="p">)</span>
    <span class="n">result_id</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">ldap_baseondn ...</span></pre></div> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ldaphe-rtxzhi-jian-de-zu-zhi-he-yong-hu-shu-ju-tong-bu.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ming-ling-xing-xia-zai-jin-du-tiao.html">python实现命令行下载进度条</a></div>
<p>
<small>
<abbr class="published" title="2013-06-23">
  2013年 六月 23日 周日
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/cmd.html">cmd</a>, 
    <a href="http://blog.turbidsoul.me/tag/ftp.html">ftp</a>, 
    <a href="http://blog.turbidsoul.me/tag/progressbar.html">progressbar</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ming-ling-xing-xia-zai-jin-du-tiao.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>这是昨晚下班之后同事问我的一个问题，不过当时已经7点，如果在不出公司就会赶不上最后一趟公交车，所以就给同事说回家研究研究礼拜一给他答案，昨晚无事就看了一下。</p>
<h4 id="_1">需要用到的模块</h4>
<ul>
<li>使用 <strong>pip</strong> 安装progressbar <code>pip install progressbar</code></li>
<li>这里我是从ftp上下载一个或者多个文件，所以我们要用到 <strong>ftplib</strong>。这是python的标准模块，在代码前导入即可</li>
<li>我在最后要把代码编译成exe文件所以要用 <strong>py2exe</strong> <code>pip install py2exe</code></li>
</ul>
<h4 id="_2">原理</h4>
<p>我们先来看一下progressbar的是原理，如下代码：</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">):</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Computing: [</span><span class="si">%s%s</span><span class="s">] </span><span class="si">%i%%</span><span class="se">\r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;#&#39;</span> <span class="o">*</span> <span class="n">x</span> <span class="p">,</span> <span class="s">&#39;-&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">50</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout ...</span></pre></div> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/pythonshi-xian-ming-ling-xing-xia-zai-jin-du-tiao.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/yi-ge-csscuo-wu-yin-qi-de-maven-stackoverflowerror.html">一个css错误引起的maven StackOverflowError</a></div>
<p>
<small>
<abbr class="published" title="2013-06-18">
  2013年 六月 18日 周二
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/java.html">java</a>, 
    <a href="http://blog.turbidsoul.me/tag/maven.html">maven</a>, 
    <a href="http://blog.turbidsoul.me/tag/css.html">css</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/yi-ge-csscuo-wu-yin-qi-de-maven-stackoverflowerror.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>这个问题是我的一个失误造成的，这是上一片文章的后续，我在使用正则做文本替换的时候没有注意到，这个正则在主干上是正常的，但是在分支上执行的时候使一行css少了一个引号，这个问题在浏览器中是暴露不出来的，之后在maven打包的时候对文件做压缩的时候才会出现，下面我们来看看是什么样的问题。</p>
<p>我们项目使用的是 <a href="https://github.com/davidB/yuicompressor-maven-plugin" title="yuicompressor-maven-plugin">yuicompressor-maven-plugin</a> 做js和css的压缩，在压缩的过程中出现了下面的错误：</p>
<div class="highlight"><pre><span class="x">---------------------------------------------------</span>
<span class="x">constituent[0]: file:/E:/opensource/apache/maven-2.2.1.RELEASE/lib/aether-api-1.13.1.jar</span>
<span class="x">constituent[1]: file:/E:/opensource/apache/maven-2.2.1.RELEASE/lib/aether-connector-wagon-1.13.1.jar</span>
<span class="x">constituent[2]: file:/E:/opensource/apache/maven-2.2 ...</span></pre></div> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/yi-ge-csscuo-wu-yin-qi-de-maven-stackoverflowerror.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/lesscss-maven-pluginjian-dan-de-pei-zhi.html">lesscss maven plugin简单的配置</a></div>
<p>
<small>
<abbr class="published" title="2013-06-11">
  2013年 六月 11日 周二
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/lesscss.html">lesscss</a>, 
    <a href="http://blog.turbidsoul.me/tag/maven.html">maven</a>, 
    <a href="http://blog.turbidsoul.me/tag/java.html">java</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/lesscss-maven-pluginjian-dan-de-pei-zhi.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>这其实是一个很简单的问题，本来并不打算写成一片文章的，因为这个文件和另外一个问题是一起的，就是我们在nginx上做css和js文件合并时遇到的，不过在这之前我还遇到了另外一个问题，就是我们开发环境是windows7，而nginx下有个静态文件合并的模块: <strong>http_concat_module</strong> ，是<a href="https://github.com/alibaba/nginx-http-concat" title="HTTP Concatenation module for Nginx">淘宝</a>开源的，这个模块并不是nginx标准模块，所以要使用它需要自己重新编译nginx，具体如何编译我需要一段一点时间整理一下，在之后的文章中会写出来。</p>
<p>至于为什么要使用<a href="http://lesscss.org" title="The Dynamic Stylesheet language">less</a>是因为使用了 <strong>http_concat_module</strong> 之后css中文件的一些路径出现了错误，需要为css文件设置一些变量，其实使用maven的插件也可以进行变量替换，但是这样只能在maven打包的时候才能起作用，对于开发来说就不行，因为开发必须要求在编译的时候就生效。所以就需要使用maven的另一个插件<a href="https://github.com/marceloverdijk/lesscss-maven-plugin" title="Official LESS CSS Maven Plugin">lesscss-maven-plugin</a>，这个插件的作用就是在编译的时候就能把less转换成css，这样做对我们最大的好处就是需要修改的地方是最少的，而且能一劳永逸的解决这个问题。</p>
<p>现在我们来说说这个插件如何配置：</p>
<h4 id="_1">添加插件</h4>
<div class="highlight"><pre><span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.lesscss<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>lesscss-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.3.3<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</pre></div>


<p>插件添加好后，就能在 <em>pom.xml ...</em></p> 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/lesscss-maven-pluginjian-dan-de-pei-zhi.html">read more...</a></div>
      <hr />
      <div class="front-title"><a href="http://blog.turbidsoul.me/posts/leibnizgong-shi-he-wallizgong-shi-gu-suan-pide-zhi.html">Leibniz公式和Walliz公式估算Pi的值</a></div>
<p>
<small>
<abbr class="published" title="2013-06-08">
  2013年 六月 08日 周六
</abbr> | 
  tags: 
    <a href="http://blog.turbidsoul.me/tag/pi.html">pi</a>, 
    <a href="http://blog.turbidsoul.me/tag/python.html">python</a>, 
    <a href="http://blog.turbidsoul.me/tag/leibniz.html">leibniz</a>, 
    <a href="http://blog.turbidsoul.me/tag/walliz.html">walliz</a>, 
 -- (<a href="http://blog.turbidsoul.me/posts/leibnizgong-shi-he-wallizgong-shi-gu-suan-pide-zhi.html" rel="bookmark">permalink</a>)
</small>
</p>      <p>前两天和同事在聊天的时候说道了 $pi$ 的算法，回家之后在<a href="https://zh.wikipedia.org/wiki/圓周率">维基</a>上看了一下关于 $pi$ 的公式，正好这回没事干，就用Python实现了两个比较简单的公式，分别是Leibniz 和 Walliz.</p>
<h2 id="leibniz">Leibniz</h2>
<p>公式如下：</p>
<p>$1 - 1/3 + 1/5 - 1/7 + 1/9 - ... = pi/4$</p>
<p>这个公式也可以用另外一种方式表示：</p>
<p>$pi/4 = sum_{n=0}<sup>{oo} (-1)</sup>n/(2n+1)$</p>
<p>从公式中能看出来，Leibniz是当n趋向于无穷大的时候，计算 $(-1)^n/(2n+1)$的和，用python代码实现如下：</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">leibniz_pi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n ...</span></pre></div><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type= "text/javascript">
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML-full'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML-full';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    asciimath2jax: {" +
            "      delimiters: [['$','$'], ['`','`']]"+
            "    }"+
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
</script>
 
      <div class="read-more"><a href="http://blog.turbidsoul.me/posts/leibnizgong-shi-he-wallizgong-shi-gu-suan-pide-zhi.html">read more...</a></div>
      <hr />

<span class="paginator">
    <a href="http://blog.turbidsoul.me/index.html">&laquo;</a>

  Page 2 / 5
    <a href="http://blog.turbidsoul.me/index3.html">&raquo;</a>
</span>
      </section>
      <footer>
        <p><small>&copy; Turbidsoul's 小黑屋 &mdash; Theme based on Sundown by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!-- Scale fix -->
    <script>
      var metas = document.getElementsByTagName('meta');
      var i;
      
      if (navigator.userAgent.match(/iPhone/i)) {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
          }
        }
      
        document.addEventListener("gesturestart", gestureStart, false);
      }

      function gestureStart() {
        for (i=0; i<metas.length; i++) {
          if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
          }
        }
      }
    </script>
  </body>
</html>